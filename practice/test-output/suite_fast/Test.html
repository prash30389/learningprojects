<html>
<head>
<title>TestNG:  Test</title>
<link href="../testng.css" rel="stylesheet" type="text/css" />
<link href="../my-testng.css" rel="stylesheet" type="text/css" />

<style type="text/css">
.log { display: none;} 
.stack-trace { display: none;} 
</style>
<script type="text/javascript">
<!--
function flip(e) {
  current = e.style.display;
  if (current == 'block') {
    e.style.display = 'none';
    return 0;
  }
  else {
    e.style.display = 'block';
    return 1;
  }
}

function toggleBox(szDivId, elem, msg1, msg2)
{
  var res = -1;  if (document.getElementById) {
    res = flip(document.getElementById(szDivId));
  }
  else if (document.all) {
    // this is the way old msie versions work
    res = flip(document.all[szDivId]);
  }
  if(elem) {
    if(res == 0) elem.innerHTML = msg1; else elem.innerHTML = msg2;
  }

}

function toggleAllBoxes() {
  if (document.getElementsByTagName) {
    d = document.getElementsByTagName('div');
    for (i = 0; i < d.length; i++) {
      if (d[i].className == 'log') {
        flip(d[i]);
      }
    }
  }
}

// -->
</script>

</head>
<body>
<h2 align='center'>Test</h2><table border='1' align="center">
<tr>
<td>Tests passed/Failed/Skipped:</td><td>1/0/0</td>
</tr><tr>
<td>Started on:</td><td>Tue Nov 10 17:52:44 IST 2020</td>
</tr>
<tr><td>Total time:</td><td>200 seconds (200357 ms)</td>
</tr><tr>
<td>Included groups:</td><td></td>
</tr><tr>
<td>Excluded groups:</td><td></td>
</tr>
</table><p/>
<small><i>(Hover the method name to see the test class name)</i></small><p/>
<table width='100%' border='1' class='invocation-passed'>
<tr><td colspan='4' align='center'><b>PASSED TESTS</b></td></tr>
<tr><td><b>Test method</b></td>
<td width="30%"><b>Exception</b></td>
<td width="10%"><b>Time (seconds)</b></td>
<td><b>Instance</b></td>
</tr>
<tr>
<td title='StandardPayinPolicies.NewBusinessPolicyForPayin.PayinNewBusinesspolicy()'><b>PayinNewBusinesspolicy</b><br>Test class: StandardPayinPolicies.NewBusinessPolicyForPayin<br>Test method: TestCase For Payin-New Business Policy using Razorpay Vendor<br>Parameters: RAZORPAY<br/>
<a href="#Output-1807648168" onClick='toggleBox("Output-1807648168", this, "Show output", "Hide output");'>Show output</a>

<a href="#Output-1807648168" onClick="toggleAllBoxes();">Show all outputs</a>
<div class='log' id="Output-1807648168">
<p>++++++++++++++++++++++++++++++++++Payin_NewBusinessPolicy Method Started++++++++++++++++++++++++++++++++++</p><br/>
<p>***** Start Creating Procedures for NB Policy *****</p><br/>
<p>
 Test Scenario  :  Payin => Initiate Payment for NB using RAZORPAY 
</p><br/>
<p>Get Status code of API : 200</p><br/>
<p>Response   : {"code":"PROP100","desc":"Proposal Accepted","errorMessage":null}</p><br/>
<p>*********************Procedure for Get Policy Payment amt of NB Policy**********************************</p><br/>
<p>
***** To get installment Premium from getNBQuotation API method Started *****
</p><br/>
<p>Amount to pay : 693.0</p><br/>
<p>
 installment Premium Returned *****
</p><br/>
<p>Policy Payment amount fetched</p><br/>
<p>mobile number fetched from 'config.properties' File </p><br/>
<p>emailID fetched from 'config.properties' File </p><br/>
<p>paymentType fetched from 'config.properties' File </p><br/>
<p>mandateType fetched from 'config.properties' File </p><br/>
<p>paymentOption fetched from 'config.properties' File </p><br/>
<p>get suspenseType From Constant File ' constantValueFile ' </p><br/>
<p>get cancellationType From Constant File ' constantValueFile ' </p><br/>
<p>*********************Payment initiate.**********************************</p><br/>
<p>status code   :200</p><br/>
<p>Initiate Payment response body	: {"payment":{"id":249428,"businessId":"NBTR1011200000249428","paymentDateTime":null,"amount":5693.0,"vendorPayment":{"vendorCode":"RAZORPAY","vendorOrderId":"order_FzSnoVm0z9VY0R","paymentId":null},"status":"INITIATED","paymentMode":null,"receiptDocId":null,"pasUpdatedOn":null,"card":null,"cheque":null,"demandDraft":null,"fundTransfer":null,"micrNumber":null,"ifscCode":null,"bankName":null,"userId":"SYSTEM","branchName":null,"branchCode":null,"transactionId":null,"processInstanceId":null,"accountNumber":null,"paymentMethod":"PAYMENTGATEWAY"},"payer":{"id":238675,"name":"Test User","email":"ankitk@360logica.com","mobileNumber":"6660060198","policyNumber":"ALI0QAP17878775","vendorPayer":{"vendorCode":"RAZORPAY","payerId":"cust_EpvAB2ochO5IEb"},"status":null},"bill":{"id":327249,"policyNumber":"ALI0QAP17878775","dueDate":"2020-11-20","amount":5693.0,"type":"NB","status":"GENERATED","product":{"type":"Term","schemeCode":"ARMP0000111"},"businessId":"NBORALI0QAP1787877500327249","amountPayable":5693.0,"serviceRequestId":null},"receiptDocUrl":null,"anyTimeSiRegistered":false}</p><br/>
<p>Status Code						: 200</p><br/>
<p>Payment initiated.</p><br/>
<p>response of initiatePayment method saved in reference variable inipayRes [ Type : List<String> ]  </p><br/>
<p>custId fetched from inipayRes  </p><br/>
<p>policyNumber fetched from inipayRes  </p><br/>
<p>transactionId fetched from inipayRes  </p><br/>
<p>orderId fetched from inipayRes  </p><br/>
<p>*********Get Mandate Status for Policy Number*******************</p><br/>
<p>Manadate done.</p><br/>
<p>[{"id":96776,"status":"Open","payer":{"id":238675,"name":"Test User","email":"ankitk@360logica.com","mobileNumber":"6660060198","policyNumber":"ALI0QAP17878775","vendorPayer":{"vendorCode":"RAZORPAY","payerId":"cust_EpvAB2ochO5IEb"},"status":null},"payment":{"id":249428,"businessId":"NBTR1011200000249428","paymentDateTime":null,"amount":5693.0,"vendorPayment":{"vendorCode":"RAZORPAY","vendorOrderId":"order_FzSnoVm0z9VY0R","paymentId":null},"status":"INITIATED","paymentMode":null,"receiptDocId":null,"pasUpdatedOn":null,"card":null,"cheque":null,"demandDraft":null,"fundTransfer":null,"micrNumber":null,"ifscCode":null,"bankName":null,"userId":"SYSTEM","branchName":null,"branchCode":null,"transactionId":null,"processInstanceId":null,"accountNumber":null,"paymentMethod":"PAYMENTGATEWAY"},"contractNumber":"ALI0QAP17878775","vendorMandateId":null,"startDate":"2020-11-10","endDate":null,"type":"CCSI","subtype":null,"vendorCode":"RAZORPAY","deactivatedOn":null,"deactivationRefId":null,"card":null,"additionalInfo":null,"reason":null,"anytimeSi":false,"lastAutoDebitStatus":null,"businessId":null}]</p><br/>
<p>Policy Manadte status is : [Open]</p><br/>
<p>*********************Payment checkout for New Business (NB).**********************************</p><br/>
<p>Selected Payment Type is Card.</p><br/>
<p>*********************Verify Payment Info for New Business (NB).**********************************</p><br/>
<p>Final Payment done.</p><br/>
<p>response of payment info	: {"paymentModeDescription":"Card","vendorOrderId":"order_FzSnoVm0z9VY0R","dueDate":"2020-11-20","businessId":"NBTR1011200000249428","policyNumber":"ALI0QAP17878775","ddDate":null,"bankName":null,"ddNumber":null,"chequeNumber":null,"createdOn":"2020-11-10","isMandateRegistered":true,"paymentType":"New Business","vendorCode":"RAZORPAY","ddType":null,"id":249428,"processInstanceId":null,"amount":5693.0,"paymentReceivedDate":"2020-11-10T12:22:11.000+0000","paymentMode":"cc","branchName":null,"receiptDocId":null,"chequeDate":null,"branchCode":null,"chequeType":null,"billBusinessId":"NBORALI0QAP1787877500327249","vendorTransactionId":"pay_FzSojA8BmL0Ga7","status":"SUCCESSFUL"}</p><br/>
<p>Manadte Registration is : true</p><br/>
<p>Payment Mode, Due Date and Amount values are	: Card || 2020-11-20 || 5693.0</p><br/>
<p>*********Get Mandate Status for Policy Number after payment done.*******************</p><br/>
<p>Manadate done.</p><br/>
<p>[{"id":96776,"status":"Registered","payer":{"id":238675,"name":"Test User","email":"ankitk@360logica.com","mobileNumber":"6660060198","policyNumber":"ALI0QAP17878775","vendorPayer":{"vendorCode":"RAZORPAY","payerId":"cust_EpvAB2ochO5IEb"},"status":null},"payment":{"id":249428,"businessId":"NBTR1011200000249428","paymentDateTime":"2020-11-10T12:22:11.000+0000","amount":5693.0,"vendorPayment":{"vendorCode":"RAZORPAY","vendorOrderId":"order_FzSnoVm0z9VY0R","paymentId":"pay_FzSojA8BmL0Ga7"},"status":"SUCCESSFUL","paymentMode":"cc","receiptDocId":null,"pasUpdatedOn":null,"card":{"name":"Aditi Patel","emi":false,"entity":"card","last4":"5558","international":true,"cardType":"credit","cardId":"card_EqBFnTIROnox5g","network":"MasterCard"},"cheque":null,"demandDraft":null,"fundTransfer":null,"micrNumber":null,"ifscCode":null,"bankName":null,"userId":"SYSTEM","branchName":null,"branchCode":null,"transactionId":null,"processInstanceId":"60be39e2-234f-11eb-adfe-0a10d2210fba","accountNumber":null,"paymentMethod":"PAYMENTGATEWAY"},"contractNumber":"ALI0QAP17878775","vendorMandateId":"token_EsAoYEDhOwFoXr","startDate":"2020-11-10","endDate":null,"type":"CCSI","subtype":null,"vendorCode":"RAZORPAY","deactivatedOn":null,"deactivationRefId":null,"card":{"name":"Aditi Patel","emi":false,"entity":"card","last4":"5558","international":true,"cardType":"credit","cardId":"card_EqBFnTIROnox5g","network":"MasterCard"},"additionalInfo":null,"reason":null,"anytimeSi":false,"lastAutoDebitStatus":null,"businessId":null}]</p><br/>
<p>Policy Manadte status is : [Registered]</p><br/>
<p>verify Policy is in 'INFORCE' Status for Standard decision=>ALI0QAP17878775</p><br/>
<p>GET -> Policy Number : The status code is: 200</p><br/>
<p>Policy status : INFORCE</p><br/>
<p>***********Check Suspense entry for NB type.************</p><br/>
<p>Suspense done.</p><br/>
<p>[{"policyNumber":"ALI0QAP17878775","amount":0.00,"suspenseType":"NB"},{"policyNumber":"ALI0QAP17878775","amount":5000.00,"suspenseType":"RENEWAL"},{"policyNumber":"ALI0QAP17878775","amount":0,"suspenseType":"PAYOUT"},{"policyNumber":"ALI0QAP17878775","amount":0,"suspenseType":"REINSTATEMENT"},{"policyNumber":"ALI0QAP17878775","amount":0,"suspenseType":"AR"}]</p><br/>
<p>Suspense Status : 0.0 || 5000.0 || 0.0 || 0.0 || 0</p><br/>
<p>Suspense done.</p><br/>
<p>[{"policyNumber":"ALI0QAP17878775","amount":0.00,"suspenseType":"NB"}]</p><br/>
<p>************************* Token Generation ********************</p><br/>
<p>***********Save Policy Number in Config file.************</p><br/>
<p>***** NB Policy Created *****</p><br/>
<p>++++++++++++++++++++++++++++++++++Payin_NewBusinessPolicy Method Completed++++++++++++++++++++++++++++++++++</p><br/>
</div>
</td>
<td></td>
<td>200</td>
<td>StandardPayinPolicies.NewBusinessPolicyForPayin@193f604a</td></tr>
</table><p>
</body>
</html>